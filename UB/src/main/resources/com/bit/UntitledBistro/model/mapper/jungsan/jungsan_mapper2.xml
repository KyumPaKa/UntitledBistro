<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.bit.UntitledBistro.model.jungsan.DeadlineDAO">

	<select id="getdeadlineList" resultType="com.bit.UntitledBistro.model.jungsan.DeadlineDTO">
		select * from Jungsan
	</select>
	
	<select id="day_profit" resultType="int">
		select sum(PAYMENT_CASH + PAYMENT_CARD) from Jungsan where Laborcosts_date like to_date('2019-09-09')
	</select>
	
	<select id="month_profit" resultType="int">
		 select sum(PAYMENT_CASH + PAYMENT_CARD) from Jungsan where Laborcosts_date between 
		 to_char(TRUNC(to_date('2019-09-06'),'MM')) 
		 and to_char(last_day(to_date('2019-09-06','YYYY-MM-DD')),'YYYY-MM-DD')
	</select>
	
	<select id="day_expenditure" resultType="int">
		select sum(ORDER_PR_EA  * ORSA_QT ) from Jungsan where Laborcosts_date like to_date('2019-09-09')
	</select>
	
	<select id="month_expenditure" resultType="int">
		select sum(ORDER_PR_EA  * ORSA_QT ) from Jungsan where Laborcosts_date between 
		 to_char(TRUNC(to_date('2019-09-06'),'MM')) 
		 and to_char(last_day(to_date('2019-09-06','YYYY-MM-DD')),'YYYY-MM-DD')
	</select>
	
	<select id="day_refund" resultType="int">
		select sum(PAYMENT_CASH - PAYMENT_POINT) from Jungsan where Laborcosts_date like to_date('2019-09-09')
	</select>
	
	<select id="day_worktime" resultType="int">
		select sum(Salary_workingTime*Salary_workingDate*Laborcosts) 
		from Jungsan where Laborcosts_date like to_date('2019-09-09')
	</select>
	
	<select id="month_worktime" resultType="int">
		select sum(Salary_workingTime*Salary_workingDate*Laborcosts) 
		from Jungsan where Laborcosts_date between 
		 to_char(TRUNC(to_date('2019-09-06'),'MM')) 
		 and to_char(last_day(to_date('2019-09-06','YYYY-MM-DD')),'YYYY-MM-DD')
	</select>
	
	<select id="day_max_profit" resultType="int">
		select sum(PAYMENT_CASH+PAYMENT_CARD-PAYMENT_POINT)
		from Jungsan where Laborcosts_date like to_date('2019-09-09')
	</select>
	
	<select id="month_max_profit" resultType="int">
		select sum(PAYMENT_CASH+PAYMENT_CARD-PAYMENT_POINT) 
		from Jungsan where Laborcosts_date between 
		 to_char(TRUNC(to_date('2019-09-06'),'MM')) 
		 and to_char(last_day(to_date('2019-09-06','YYYY-MM-DD')),'YYYY-MM-DD')
	</select>
	
</mapper>